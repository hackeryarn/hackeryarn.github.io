<!DOCTYPE html>
<html class="latte" lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge" />
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <meta name="fediverse:creator" content="@hackeryarn@mastodon.social">
  
  
  
  <title>hackeryarn | ClojureScript Setup for Leiningen Project With Emacs</title>
  
  <link rel="icon" type="image/svg" href="/imgs/hackeryarn.svg" />
  <link rel="stylesheet" href="/css/generated.css">
  
  <link rel="alternate" type="application/atom+xml" title="Atom Feed for https://hackeryarn.com"
    href="/atom.xml" />
  
  <script defer src="/js/main.bundle.js" data-auto-replace-svg="nest"></script>
</head>

<body hx-boost="true" hx-ext="head-support" class="flex flex-col justify-between h-screen">
  <header class="top-0 w-full z-10 flex justify-between items-center mb-7 lg:text-8xl text-4xl p-5">
  <a class="logo flex items-center no-underline lg:gap-5 gap-2 neutral-900 italianno" href="https://hackeryarn.com">
    <img class="inline lg:w-20 w-10 rounded-full" src="/imgs/hackeryarn.svg" /> hackeryarn
  </a>
  <nav class="carrois lg:text-3xl text-lg">
    <ul class="flex gap-3 lg:gap-6">
      <li>
        <a href="https://hackeryarn.com">posts</a>
      </li>
      <li>
        <a href="https://hackeryarn.com/tags">tags</a>
      </li>
      <li>
        <a href="https://hackeryarn.com/about/me">about</a>
      </li>
    </ul>
  </nav>
</header>
  <section class="w-full mx-auto mb-auto prose-neutral prose lg:prose-2xl px-6">
    
<article>
  <h1 class="title">
    ClojureScript Setup for Leiningen Project With Emacs
  </h1>
  <p class="subtitle">Published 2017-07-15</p>
  <div>
    <p>A good development environment will boost your productivity in any language. A good Clojure development environment will make you 10x more productive.</p>
<p>This tutorial is focused on a <a rel="external" href="https://clojurescript.org/">ClojureScript</a> environment for a <a rel="external" href="https://leiningen.org/">Leiningen</a> based
project being developed in <a rel="external" href="https://www.gnu.org/software/emacs/">Emacs</a>.</p>
<span id="continue-reading"></span><h1 id="why-emacs">Why Emacs?</h1>
<p>Emacs has a great setup for most programming languages but really shines when it
comes to Lisps, including Clojure. <a rel="external" href="https://cider.readthedocs.io/en/latest/">Cider</a> is the powerful package that allows easy
interaction with the Clojure REPL and many IDE like features. In combination with
<a rel="external" href="https://github.com/clojure-emacs/clj-refactor.el">clj-refactor</a>, you get one of the most powerful toolkits out there.</p>
<h1 id="why-leiningen">Why Leiningen?</h1>
<p>Leiningen is still the most widely used way to run Clojure applications. I also
prefer the data driven approach to managing configurations that Leiningen take.</p>
<h1 id="why-is-this-guide-needed">Why is This Guide Needed?</h1>
<p>If you have a Clojure project, you can just run <code>cider-jack-in</code> and you are
ready to go. That is not the case with ClojureScript. A few extra tweaks are
required to get everything running smoothly.</p>
<h1 id="setting-up-clojurescript-with-cider">Setting up ClojureScript With Cider</h1>
<p>The first thing you need is  to include two packages and setup a new
<code>nreple-middleware</code>. I always put these configurations into my dev profile.
because they are not needed in production.</p>
<p>You will need to add the following to your <code>project.clj</code>:</p>
<pre class="giallo z-code"><code data-lang="plain"><span class="giallo-l"><span>:profiles</span></span>
<span class="giallo-l"><span>{:dev {:dependencies [[com.cemerick/piggieback &quot;0.2.1&quot;]</span></span>
<span class="giallo-l"><span>                      [figwheel-sidecar &quot;0.5.0-2&quot;]]</span></span>
<span class="giallo-l"><span>       :repl-options {:nrepl-middleware [cemerick.piggieback/wrap-cljs-repl]}}}</span></span></code></pre>
<p>With your <code>project.clj</code> updated, you can to run <code>cider-jack-in-clojurescript</code>
(<code>C-c M-J</code>) to start up your clojurescript REPL.</p>
<p>Inside the new REPL session, you can start <a rel="external" href="https://github.com/bhauman/lein-figwheel">Figwheel</a> with:</p>
<pre class="giallo z-code"><code data-lang="plain"><span class="giallo-l"><span>(use &#39;fighweel-sidecar.repl-api)</span></span>
<span class="giallo-l"><span>(start-figwheel!)</span></span>
<span class="giallo-l"><span>(cljs-repl)</span></span></code></pre>
<p>These commands will start up a new ClojureScript REPL. You now have two REPL
session running. One for Clojure and one for ClojureScript.</p>
<p>The above is a nice way to get started but gets tedious very quickly, took me
two start-ups took 2 start-ups. Therefore I recommend you add the following to your Emacs
config:</p>
<pre class="giallo z-code"><code data-lang="plain"><span class="giallo-l"><span>(setq cider-cljs-lein-repl &quot;(do (use &#39;figwheel-sidecar.repl-api) (start-figwheel!) (cljs-repl))&quot;)</span></span></code></pre>
<p>As you can see this is just a wrapper for the commands you were running
by hand. Now, every time you execute <code>cider-jack-in-clojurescript</code>, these commands are run
and you will have your two REPLs setup.</p>
<h1 id="other-options">Other Options</h1>
<p>If you are using boot or any other setup, please take a look at the great
<a rel="external" href="https://cider.readthedocs.io/en/latest/up_and_running/#clojurescript-usage">Cider documentation</a> on this topic. It covers everything here and more.</p>

  </div>
  <hr />
  <div class="not-prose -mt-10">
    

<ul class="not-prose flex gap-3">
  
  <li>
    <a href="https://hackeryarn.com/tags/clojure/"
      class="prose lg:prose-2xl underline decoration-dotted transition text-neutral-500 hover:text-neutral-900">clojure</a>
  </li>
  
  <li>
    <a href="https://hackeryarn.com/tags/tutorial/"
      class="prose lg:prose-2xl underline decoration-dotted transition text-neutral-500 hover:text-neutral-900">tutorial</a>
  </li>
  
  <li>
    <a href="https://hackeryarn.com/tags/emacs/"
      class="prose lg:prose-2xl underline decoration-dotted transition text-neutral-500 hover:text-neutral-900">emacs</a>
  </li>
  
</ul>


  </div>
</article>


  </section>
  <footer class="p-4 mt-15">
  <div class="flex justify-center text-4xl gap-6">
    <a href="https://mastodon.social/@hackeryarn">
      <i class="fa-brands fa-mastodon"></i>
    </a>
    <a href="https://codeberg.org/hackeryarn">
      <i class="codeberg"></i>
    </a>
    <a href="https://github.com/hackeryarn">
      <i class="fa-brands fa-github"></i>
    </a>
    <a href="https://www.linkedin.com/in/achernyak/">
      <i class="fa-brands fa-linkedin"></i>
    </a>
  </div>
  <p class="text-center text-neutral-500 mt-5">
    Copyright 2026 by Artem Chernyak
  </p>
</footer>
  <a class="hidden" rel="me" href="https://mastodon.social/@hackeryarn">Mastodon</a>
</body>

</html>